<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data transformation | Spotify Songs</title>
  <meta name="description" content="Chapter 3 Data transformation | Spotify Songs" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data transformation | Spotify Songs" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data transformation | Spotify Songs" />
  
  
  

<meta name="author" content="Junhao Zhang, Wei Luo, Yihan Wang" />


<meta name="date" content="2021-12-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/proj4js-2.3.15/proj4.js"></script>
<link href="libs/highcharts-8.1.2/css/motion.css" rel="stylesheet" />
<script src="libs/highcharts-8.1.2/highcharts.js"></script>
<script src="libs/highcharts-8.1.2/highcharts-3d.js"></script>
<script src="libs/highcharts-8.1.2/highcharts-more.js"></script>
<script src="libs/highcharts-8.1.2/modules/stock.js"></script>
<script src="libs/highcharts-8.1.2/modules/map.js"></script>
<script src="libs/highcharts-8.1.2/modules/annotations.js"></script>
<script src="libs/highcharts-8.1.2/modules/data.js"></script>
<script src="libs/highcharts-8.1.2/modules/drilldown.js"></script>
<script src="libs/highcharts-8.1.2/modules/item-series.js"></script>
<script src="libs/highcharts-8.1.2/modules/offline-exporting.js"></script>
<script src="libs/highcharts-8.1.2/modules/overlapping-datalabels.js"></script>
<script src="libs/highcharts-8.1.2/modules/exporting.js"></script>
<script src="libs/highcharts-8.1.2/modules/export-data.js"></script>
<script src="libs/highcharts-8.1.2/modules/funnel.js"></script>
<script src="libs/highcharts-8.1.2/modules/heatmap.js"></script>
<script src="libs/highcharts-8.1.2/modules/treemap.js"></script>
<script src="libs/highcharts-8.1.2/modules/sankey.js"></script>
<script src="libs/highcharts-8.1.2/modules/dependency-wheel.js"></script>
<script src="libs/highcharts-8.1.2/modules/organization.js"></script>
<script src="libs/highcharts-8.1.2/modules/solid-gauge.js"></script>
<script src="libs/highcharts-8.1.2/modules/streamgraph.js"></script>
<script src="libs/highcharts-8.1.2/modules/sunburst.js"></script>
<script src="libs/highcharts-8.1.2/modules/vector.js"></script>
<script src="libs/highcharts-8.1.2/modules/wordcloud.js"></script>
<script src="libs/highcharts-8.1.2/modules/xrange.js"></script>
<script src="libs/highcharts-8.1.2/modules/tilemap.js"></script>
<script src="libs/highcharts-8.1.2/modules/venn.js"></script>
<script src="libs/highcharts-8.1.2/modules/gantt.js"></script>
<script src="libs/highcharts-8.1.2/modules/timeline.js"></script>
<script src="libs/highcharts-8.1.2/modules/parallel-coordinates.js"></script>
<script src="libs/highcharts-8.1.2/modules/bullet.js"></script>
<script src="libs/highcharts-8.1.2/modules/coloraxis.js"></script>
<script src="libs/highcharts-8.1.2/modules/dumbbell.js"></script>
<script src="libs/highcharts-8.1.2/modules/lollipop.js"></script>
<script src="libs/highcharts-8.1.2/modules/series-label.js"></script>
<script src="libs/highcharts-8.1.2/plugins/motion.js"></script>
<script src="libs/highcharts-8.1.2/custom/reset.js"></script>
<script src="libs/highcharts-8.1.2/modules/boost.js"></script>
<script src="libs/highchart-binding-0.8.2/highchart.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">SpotifySong</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#spotify-songs-of-2020"><i class="fa fa-check"></i><b>2.1</b> Spotify Songs of 2020</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#statistics-of-genres"><i class="fa fa-check"></i><b>5.1</b> Statistics of Genres</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#general-overview-of-genres"><i class="fa fa-check"></i><b>5.1.1</b> General Overview of Genres</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#density-curve-of-each-genre"><i class="fa fa-check"></i><b>5.1.2</b> Density curve of each genre</a></li>
<li class="chapter" data-level="5.1.3" data-path="results.html"><a href="results.html#history-and-boxplot-for-genres"><i class="fa fa-check"></i><b>5.1.3</b> History and Boxplot For Genres</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#correlation"><i class="fa fa-check"></i><b>5.2</b> Correlation</a></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#distribution-of-genre"><i class="fa fa-check"></i><b>5.3</b> Distribution of Genre</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="results.html"><a href="results.html#overall-distribution-of-features"><i class="fa fa-check"></i><b>5.3.1</b> Overall Distribution of Features</a></li>
<li class="chapter" data-level="5.3.2" data-path="results.html"><a href="results.html#qq-plot"><i class="fa fa-check"></i><b>5.3.2</b> QQ plot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>6</b> Conclusion</a></li>
<li class="chapter" data-level="7" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>7</b> Interactive component</a></li>
<li class="chapter" data-level="8" data-path="conclusion-1.html"><a href="conclusion-1.html"><i class="fa fa-check"></i><b>8</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Spotify Songs</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1" number="3">
<h1><span class="header-section-number">Chapter 3</span> Data transformation</h1>
<p>There are 12 audio features, we categorize those variables into 3 types:<br>
confidence features: <code>acousticness</code>, <code>liveness</code>, <code>speechiness</code> and <code>instrumentalness</code><br>
perceptual features: <code>energy</code>, <code>loudness</code>, <code>danceability</code> and <code>valence</code> (positiveness) <br>
descriptive features: <code>duration</code>, <code>tempo</code>, <code>key</code>, and<code>mode</code>.<br>
<br>
The analysis focus on the relationship among genre vs perceptual features vs popularity, so we will be mainly focusing on the popularity, genre and perceptual features and we cleaned this dataset in following steps:
- Select columns we needed. i.e. <code>track_popularity</code>, <code>playlist_genre</code>, track<code>energy</code>, <code>loudness</code>, <code>danceability</code> and <code>valence</code>
- Check duplicates and fix typos
<br>
After clearning it, it now has 32833 rows and 14 columns.<br></p>
<pre><code>## # A tibble: 32,833 × 14
##    track_popularity playlist_genre danceability energy   key loudness
##               &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
##  1               66 pop                   0.748  0.916     6    -2.63
##  2               67 pop                   0.726  0.815    11    -4.97
##  3               70 pop                   0.675  0.931     1    -3.43
##  4               60 pop                   0.718  0.93      7    -3.78
##  5               69 pop                   0.65   0.833     1    -4.67
##  6               67 pop                   0.675  0.919     8    -5.38
##  7               62 pop                   0.449  0.856     5    -4.79
##  8               69 pop                   0.542  0.903     4    -2.42
##  9               68 pop                   0.594  0.935     8    -3.56
## 10               67 pop                   0.642  0.818     2    -4.55
## # … with 32,823 more rows, and 8 more variables: mode &lt;dbl&gt;,
## #   speechiness &lt;dbl&gt;, acousticness &lt;dbl&gt;, instrumentalness &lt;dbl&gt;,
## #   liveness &lt;dbl&gt;, valence &lt;dbl&gt;, tempo &lt;dbl&gt;, duration_ms &lt;dbl&gt;</code></pre>
<p>Then, we created a new dataframe summarizing the information of genre for the purpose of analysis in later chapter.</p>
<table>
<thead>
<tr class="header">
<th align="left">playlist_genre</th>
<th align="right">genre_total</th>
<th align="right">average_popularity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">edm</td>
<td align="right">6043</td>
<td align="right">34.83353</td>
</tr>
<tr class="even">
<td align="left">latin</td>
<td align="right">5155</td>
<td align="right">47.02658</td>
</tr>
<tr class="odd">
<td align="left">pop</td>
<td align="right">5507</td>
<td align="right">47.74487</td>
</tr>
<tr class="even">
<td align="left">r&amp;b</td>
<td align="right">5431</td>
<td align="right">41.22353</td>
</tr>
<tr class="odd">
<td align="left">rap</td>
<td align="right">5746</td>
<td align="right">43.21545</td>
</tr>
<tr class="even">
<td align="left">rock</td>
<td align="right">4951</td>
<td align="right">41.72834</td>
</tr>
</tbody>
</table>
<p><img src="finalproj_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/SchizoidMann/spotify_songs/edit/main/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/SchizoidMann/spotify_songsE/blob/main/03-cleaning.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
