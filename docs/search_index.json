<<<<<<< HEAD
[["index.html", "Spotify Songs Chapter 1 Introduction", " Spotify Songs Junhao Zhang, Wei Luo, Yihan Wang 2021-12-07 Chapter 1 Introduction A song is a musical composition intended to be performed by the human voice. This is often done at distinct and fixed pitches (melodies) using patterns of sound and silence. Songs contain various forms, such as those including the repetition and variation of sections. Music can also stimulate the mind. There are many things in music, to which one can listen and bring attention. One can be mindful of the melodies or themes, the harmony, the driving or relaxed rhythms, the color of the sounds, the activity of a piece, how the sounds are produced, or how they all relate to one another, all while, possibly figuring out how the composer conceived the piece. Focused and attentive listening is an incredible experience that allows one to be lost in a foreign sound world. Spotify, one of the most popular audio streaming and media services provider in the world, gives customers access to millions of songs and other content from creators all over the world. In this project, we collected a set of songs from spofity with detailed information of each song to generate visualizations and conduct investigations on the relationships between popularity and music characteristics. We would like to carry out analysis and answer the following questions: - Given various of song features, we want to discover how music genres differ in characteristics. - Given a set of songs, we want to explore what features (individual or combined) will positively or negatively affect the popularity and people’s preferences. - Given any specific songs, we want to find if there exists any correlation between features and figure out if the relationship between features and popularity satisfy certain patterns or distributions. In the following chapters, we will discuss these questions and provide some new insights on the mucic characteristics. For more details of this project, click the link here or copy the url https://github.com/SchizoidMann/spotify_songs.git and open it in browser to go to our Github repository and navigate code in .Rmd files. "],["data-sources.html", "Chapter 2 Data sources 2.1 Spotify Songs of 2020", " Chapter 2 Data sources 2.1 Spotify Songs of 2020 Dataset : spofity_songs.csv The primary dataset of this project comes from Spotify via the spotifyr package. It contains the detailed information of thousand of spofity songs. Table 2.1: Column Description variables class description track_id character Song unique ID track_name character Song Name track_artist character Song Artist track_popularity double Song Popularity (0-100) where higher is better track_album_id character Album unique ID track_album_name character Song album name track_album_release_date character Date when album released playlist_name character Name of playlist playlist_id character Playlist ID playlist_genre character Playlist genre playlist_subgenre character Playlist subgenre danceability double Danceability describes how suitable a track is for dancing based on a combination of musical elements including tempo, rhythm stability, beat strength, and overall regularity. A value of 0.0 is least danceable and 1.0 is most danceable energy double Energy is a measure from 0.0 to 1.0 and represents a perceptual measure of intensity and activity. Typically, energetic tracks feel fast, loud, and noisy. For example, death metal has high energy, while a Bach prelude scores low on the scale. Perceptual features contributing to this attribute include dynamic range, perceived loudness, timbre, onset rate, and general entropy key double The estimated overall key of the track. Integers map to pitches using standard Pitch Class notation . E.g.0 = C, 1 = C♯/D♭, 2 = D, and so on. If no key was detected, the value is -1 loudness double The overall loudness of a track in decibels (dB). Loudness values are averaged across the entire track and are useful for comparing relative loudness of tracks. Loudness is the quality of a sound that is the primary psychological correlate of physical strength (amplitude). Values typical range between -60 and 0 db mode double Mode indicates the modality (major or minor) of a track, the type of scale from which its melodic content is derived. Major is represented by 1 and minor is 0 speechiness double Speechiness detects the presence of spoken words in a track. The more exclusively speech-like the recording (e.g. talk show, audio book, poetry), the closer to 1.0 the attribute value. Values above 0.66 describe tracks that are probably made entirely of spoken words. Values between 0.33 and 0.66 describe tracks that may contain both music and speech, either in sections or layered, including such cases as rap music. Values below 0.33 most likely represent music and other non-speech-like tracks acousticness double A confidence measure from 0.0 to 1.0 of whether the track is acoustic. 1.0 represents high confidence the track is acoustic instrumentalness double Predicts whether a track contains no vocals. “Ooh” and “aah” sounds are treated as instrumental in this context. Rap or spoken word tracks are clearly “vocal”. The closer the instrumentalness value is to 1.0, the greater likelihood the track contains no vocal content. Values above 0.5 are intended to represent instrumental tracks, but confidence is higher as the value approaches 1.0 liveness double Detects the presence of an audience in the recording. Higher liveness values represent an increased probability that the track was performed live. A value above 0.8 provides strong likelihood that the track is live valence double A measure from 0.0 to 1.0 describing the musical positiveness conveyed by a track. Tracks with high valence sound more positive (e.g. happy, cheerful, euphoric), while tracks with low valence sound more negative (e.g. sad, depressed, angry) tempo double The overall estimated tempo of a track in beats per minute (BPM). In musical terminology, tempo is the speed or pace of a given piece and derives directly from the average beat duration duration_ms double Duration of song in milliseconds Issues with this dataset: The information gathered in this dataset is not updated. It only contains information of spotify songs up to January 2020. The track_popularity column is subject to change, but the change will be trivial compared to the size of the entire dataset. Although this will not affect our analysis or overall conclusion, it is worth attention to the data incompleteness here. only three columns have mising value: track_name, track_artist, track_album_name, not use those columns. "],["data-transformation.html", "Chapter 3 Data transformation", " Chapter 3 Data transformation There are 12 audio features, we categorize those variables into 3 types: confidence features: acousticness, liveness, speechiness and instrumentalness perceptual features: energy, loudness, danceability and valence (positiveness) descriptive features: duration, tempo, key, andmode. The analysis focus on the relationship among genre vs perceptual features vs popularity, so we will be mainly focusing on the popularity, genre and perceptual features and we cleaned this dataset in following steps: - Select columns we needed. i.e. track_popularity, playlist_genre, trackenergy, loudness, danceability and valence - Check duplicates and fix typos After clearning it, it now has 32833 rows and 14 columns. ## # A tibble: 32,833 × 14 ## track_popularity playlist_genre danceability energy key loudness ## &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 66 pop 0.748 0.916 6 -2.63 ## 2 67 pop 0.726 0.815 11 -4.97 ## 3 70 pop 0.675 0.931 1 -3.43 ## 4 60 pop 0.718 0.93 7 -3.78 ## 5 69 pop 0.65 0.833 1 -4.67 ## 6 67 pop 0.675 0.919 8 -5.38 ## 7 62 pop 0.449 0.856 5 -4.79 ## 8 69 pop 0.542 0.903 4 -2.42 ## 9 68 pop 0.594 0.935 8 -3.56 ## 10 67 pop 0.642 0.818 2 -4.55 ## # … with 32,823 more rows, and 8 more variables: mode &lt;dbl&gt;, ## # speechiness &lt;dbl&gt;, acousticness &lt;dbl&gt;, instrumentalness &lt;dbl&gt;, ## # liveness &lt;dbl&gt;, valence &lt;dbl&gt;, tempo &lt;dbl&gt;, duration_ms &lt;dbl&gt; Then, we created a new dataframe summarizing the information of genre for the purpose of analysis in later chapter. playlist_genre genre_total average_popularity edm 6043 34.83353 latin 5155 47.02658 pop 5507 47.74487 r&amp;b 5431 41.22353 rap 5746 43.21545 rock 4951 41.72834 "],["missing-values.html", "Chapter 4 Missing values", " Chapter 4 Missing values missing_value_plot&lt;-function(data,type=&#39;counts&#39;){ # find and count the missing patterns missing_patterns &lt;- data.frame(is.na(data)) %&gt;% group_by_all() %&gt;% count(name = &quot;count&quot;, sort = TRUE) %&gt;% ungroup() # add id to each row missing_patterns &lt;- missing_patterns %&gt;% mutate(id=row_number(),.before=1) # tidy the missing patterns new_missing_patterns &lt;- missing_patterns %&gt;% mutate_if(is.logical, as.character) #mutate_all(funs(as.character(.))) for (i in 1:nrow(new_missing_patterns)) { flag &lt;-0 for (j in 2:ncol(new_missing_patterns)) { if (new_missing_patterns[i,j]==&#39;TRUE&#39;) { flag &lt;- 1 } } if (flag==0) { new_missing_patterns[i,2:(ncol(new_missing_patterns)-1)] &lt;-&#39;complete&#39; } } tidypatterns &lt;- new_missing_patterns %&gt;% select(-count) %&gt;% pivot_longer(cols=!id,names_to =&#39;key&#39;,values_to=&#39;value&#39;) # Plot the main graph column_sum &lt;- colSums(is.na(data)) variable_order &lt;- names(sort(column_sum,decreasing = TRUE)) variable &lt;- fct_relevel(tidypatterns$key,variable_order) main &lt;- ggplot(tidypatterns,aes(x=variable,y=fct_rev(factor(id)),fill=value))+ geom_tile(color = &quot;white&quot;)+ scale_fill_manual(values = c(&#39;TRUE&#39;=&#39;darkorchid1&#39;,&#39;FALSE&#39;=&#39;grey&#39;,&#39;complete&#39;=&#39;darkgrey&#39;))+ theme(legend.position = &quot;none&quot;)+ labs(x=&#39;variable&#39;,y=&#39;missing pattern&#39;) # add text complete_loc &lt;- tidypatterns$id[which(tidypatterns$value==&#39;complete&#39;)] x &lt;- as.integer(ncol(data)/2)+1 for (i in complete_loc) { y &lt;- nrow(missing_patterns)-i+1 main &lt;- main+geom_text(aes(x=x,y=y,label=&#39;complete case&#39;),size=4,family=&quot;Times New Roman&quot;,fontface=&#39;bold&#39;) } if (type==&#39;counts&#39;){ # plot the top graph column_count&lt;-data %&gt;% summarise_all(~ sum(is.na(.x))) %&gt;% pivot_longer(cols=everything(), names_to=&quot;variable&quot;, values_to=&quot;count&quot;) %&gt;% arrange(desc(count)) top &lt;- ggplot(column_count,aes(x=factor(variable, levels=column_count$variable), y=count))+ geom_col(fill=&#39;lightblue&#39;)+ labs(x=&#39;&#39;,y=&#39;num rows missing:&#39;)+ ggtitle(&#39;Missing Value Patterns with counts&#39;) # plot the right graph row_count &lt;-new_missing_patterns %&gt;% add_column(status=&#39;missing&#39;) for (i in 1:nrow(row_count)) { if (any(row_count[i,]==&#39;complete&#39;)){ row_count[i,&#39;status&#39;]&lt;-&#39;complete&#39; } } right &lt;- ggplot(row_count,aes(x=count,y=fct_rev(factor(id)),fill=status))+ geom_col()+ scale_fill_manual(values=c(&#39;blue&#39;,&#39;lightblue&#39;))+ theme(legend.position = &quot;none&quot;)+ labs(x=&#39;row count&#39;,y=&#39;&#39;) } else if (type==&#39;percents&#39;){ # plot the top graph column_count &lt;- data %&gt;% summarise_all(~ 100*sum(is.na(.x))/nrow(data)) %&gt;% pivot_longer(cols=everything(), names_to=&quot;variable&quot;, values_to=&quot;count&quot;) %&gt;% arrange(desc(count)) top &lt;- ggplot(column_count,aes(x=factor(variable, levels=column_count$variable), y=count))+ geom_col(fill=&#39;lightblue&#39;)+ scale_y_continuous(limits=c(0,100),breaks=seq(0,100,by=25))+ labs(x=&#39;&#39;,y=&#39;% rows missing:&#39;)+ ggtitle(&#39;Missing Value Patterns with percents&#39;) # plot the right graph row_count &lt;-new_missing_patterns %&gt;% add_column(status=&#39;missing&#39;) %&gt;% mutate(count=100*(count/nrow(data))) %&gt;% arrange(desc(count)) for (i in 1:nrow(row_count)) { if (any(row_count[i,]==&#39;complete&#39;)){ row_count[i,&#39;status&#39;]&lt;-&#39;complete&#39; } } right &lt;- ggplot(row_count,aes(x=count,y=fct_rev(factor(id)),fill=status))+ geom_col()+ scale_fill_manual(values=c(&#39;blue&#39;,&#39;lightblue&#39;))+ scale_x_continuous(limits=c(0,100),breaks=seq(0,100,by=25))+ theme(legend.position = &quot;none&quot;)+ labs(x=&#39;% rows&#39;,y=&#39;&#39;) } else (print(&#39;Wrong Type Input&#39;)) top + plot_spacer() + main + right + plot_layout( ncol = 2, nrow = 2, widths = c(4, 1), heights = c(1, 4) ) } missing_value_plot(ggplot2::economics,type=&#39;counts&#39;) missing_value_plot(ggplot2::economics,type=&#39;percents&#39;) df_c&lt;-Lock5withR::HollywoodMovies2011 colnames(df_c)&lt;-c(&#39;Movie&#39;,&#39;LS&#39;,&#39;RT&#39;,&#39;AS&#39;,&#39;Story&#39;,&#39;Genre&#39;,&#39;TOW&#39;, &#39;BOAPW&#39;,&#39;DG&#39;,&#39;FG&#39;,&#39;WG&#39;,&#39;Budget&#39;,&#39;Profit&#39;,&#39;OW&#39;) missing_value_plot(df_c,type=&#39;counts&#39;) missing_value_plot(df_c,type=&#39;percents&#39;) We have found that our final data set has missing values in only few rows which is not really useful. We decided to omit them and use the ucla_textbooks_f18 data set in openintro package. library(openintro) missing_value_plot(openintro::ucla_textbooks_f18,type=&#39;counts&#39;) missing_value_plot(openintro::ucla_textbooks_f18,type=&#39;percents&#39;) According to the plot above, we can tell that there are 20 missing patterns and the fifth missing pattern is a complete case. The fisrt missing patterns has the highest row count. It seems that there is correlation between the price of new books and used books both in amazon and in bookstore because they all have really high missing values compared with other variables. Also, it’s quiet strange that there are so many missing values in book price variables. Regarding of book features,textbook_isbn is more likely to be missing than any other book features except price because book isbn is long and complicated and people normally won’t use isbn much when they buy books. There are three columns, year,term and subject doesn’t have missing values. One interesting observation is that there are no missing values in subject, but there are missing values in Subject abbreviation which means that some book are not used for one specific subject but for multiple subjects and that’s why the subject abbr is missing because it doesn’t know how to fill in the subject abbreviation. "],["results.html", "Chapter 5 Results", " Chapter 5 Results "],["interactive-component.html", "Chapter 6 Interactive component", " Chapter 6 Interactive component "],["conclusion.html", "Chapter 7 Conclusion", " Chapter 7 Conclusion "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
=======
[["index.html", "Spotify Songs Chapter 1 Introduction", " Spotify Songs Junhao Zhang, Wei Luo, Yihan Wang 2021-11-19 Chapter 1 Introduction "],["data-sources.html", "Chapter 2 Data sources", " Chapter 2 Data sources "],["data-transformation.html", "Chapter 3 Data transformation", " Chapter 3 Data transformation "],["missing-values.html", "Chapter 4 Missing values", " Chapter 4 Missing values We have found that our final data set has missing values in only few rows which is not really useful. We decided to omit them and use the ucla_textbooks_f18 data set in openintro package. According to the plot above, we can tell that there are 20 missing patterns and the fifth missing pattern is a complete case. The fisrt missing patterns has the highest row count. It seems that there is correlation between the price of new books and used books both in amazon and in bookstore because they all have really high missing values compared with other variables. Also, it’s quiet strange that there are so many missing values in book price variables. Regarding of book features,textbook_isbn is more likely to be missing than any other book features except price because book isbn is long and complicated and people normally won’t use isbn much when they buy books. There are three columns, year,term and subject doesn’t have missing values. One interesting observation is that there are no missing values in subject, but there are missing values in Subject abbreviation which means that some book are not used for one specific subject but for multiple subjects and that’s why the subject abbr is missing because it doesn’t know how to fill in the subject abbreviation. "],["results.html", "Chapter 5 Results", " Chapter 5 Results "],["interactive-component.html", "Chapter 6 Interactive component", " Chapter 6 Interactive component "],["conclusion.html", "Chapter 7 Conclusion", " Chapter 7 Conclusion "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
>>>>>>> refs/remotes/origin/main
